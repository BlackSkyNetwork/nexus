<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Black Sky Nexus RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Black Sky Nexus Atom Feed"><title data-rh="true">Penumbra Protocol | Black Sky Nexus</title><meta data-rh="true" property="og:url" content="https://nexus.blacksky.network/zine/00000001/penumbra-protocol"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:title" content="Penumbra Protocol | Black Sky Nexus"><meta data-rh="true" name="description" content="Black Sky&#x27;s Overview &amp; Analysis"><meta data-rh="true" property="og:description" content="Black Sky&#x27;s Overview &amp; Analysis"><meta data-rh="true" property="og:image" content="https://nexus.blacksky.network/img/00000001/penumbra.png"><meta data-rh="true" name="twitter:image" content="https://nexus.blacksky.network/img/00000001/penumbra.png"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nexus.blacksky.network/zine/00000001/penumbra-protocol"><link data-rh="true" rel="alternate" href="https://nexus.blacksky.network/zine/00000001/penumbra-protocol" hreflang="en"><link data-rh="true" rel="alternate" href="https://nexus.blacksky.network/zine/00000001/penumbra-protocol" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f177d112.css">
<link rel="preload" href="/assets/js/runtime~main.46ca885c.js" as="script">
<link rel="preload" href="/assets/js/main.99c1ec01.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Black Sky logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="Black Sky logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Nexus</b></a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/zine/00000001">Zine</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/zine/00000001">Issue 00000001</a><button aria-label="Toggle the collapsible sidebar category &#x27;Issue 00000001&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zine/00000001/anon-guide">An Initiation into the Realm of Crypto Anonymity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zine/00000001/cypherpunk-your-adversaries">Cypherpunk Your Adversaries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zine/00000001/fight-for-cryptography">The Fight for Cryptography in the War Over Sovereignty</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zine/00000001/anoma-protocol">Anoma Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zine/00000001/penumbra-protocol">Penumbra Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zine/00000001/call-for-submissions">Call for Submissions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/zine/00000000">Issue 00000000</a><button aria-label="Toggle the collapsible sidebar category &#x27;Issue 00000000&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/wiki/intro">Wiki</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Penumbra Protocol</h1><span class="doc-subtitle">Black Sky&#x27;s Overview &amp; Analysis</span><h6 class="anchor anchorWithStickyNavbar_mojV" id="lead-analyst-stellar-magnet-support-gpt-4-saliveja"><strong>Lead Analyst</strong>: Stellar Magnet; <strong>Support</strong>: GPT-4, Saliveja<a class="hash-link" href="#lead-analyst-stellar-magnet-support-gpt-4-saliveja" title="Direct link to heading">​</a></h6><svg width="933" height="43" viewBox="0 0 933 43" fill="none" xmlns="http://www.w3.org/2000/svg" class="img-up"><g clip-path="url(#a)"><path d="M933 41.78H0" stroke="#FA36C3" stroke-width="2" stroke-miterlimit="10"></path><path fill-rule="evenodd" clip-rule="evenodd" d="m439.32 42.6 27.2-27.19 26.85 26.84 1.16-1.16-28.01-27.9-28.25 28.36 1.05 1.05Z" fill="#FA36C3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="m466.49 42.73 14.12-13.89H933v-2.92H479.44l-12.95 12.72-12.73-12.72H0v2.92h452.6l13.89 13.89Z" fill="#FA36C3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="m426 42.72 40.5-40.5 40.39 40.38 1.17-1.05L466.5 0l-41.55 41.55 1.05 1.17Z" fill="#FA36C3"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h933v42.78H0z"></path></clipPath></defs></svg><div class="header"><img src="/assets/images/penumbra-99002183353d8d034eeac38c637c1f89.png"></div><svg width="933" height="43" viewBox="0 0 933 43" fill="none" xmlns="http://www.w3.org/2000/svg" class="img-down"><g clip-path="url(#a)"><path d="M0 1h933" stroke="#FA36C3" stroke-width="2" stroke-miterlimit="10"></path><path fill-rule="evenodd" clip-rule="evenodd" d="m493.68.18-27.2 27.19L439.63.53l-1.16 1.16 28.01 27.9 28.25-28.36-1.05-1.05Z" fill="#FA36C3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="m466.51.05-14.12 13.89H0v2.92h453.56l12.95-12.72 12.73 12.72H933v-2.92H480.4L466.51.05Z" fill="#FA36C3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="m507 .06-40.5 40.5L426.11.18l-1.17 1.05 41.56 41.55 41.55-41.55L507 .06Z" fill="#FA36C3"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h933v42.78H0z"></path></clipPath></defs></svg><h2 class="anchor anchorWithStickyNavbar_mojV" id="project-summary">Project Summary<a class="hash-link" href="#project-summary" title="Direct link to heading">​</a></h2><p><a href="https://penumbra.zone/" target="_blank" rel="noopener noreferrer">Penumbra</a> is a Layer 1 shielded blockchain solution initially targeting the Cosmos ecosystem. It uses a delegated proof of stake system with Tendermint consensus, with modifications for delegator privacy. Penumbra Labs is the lead development team, founded and led by Henry de Valence, who previously worked on cryptography at the Zcash Foundation.<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> The team closed an initial $4.75 million seed round in November 2021<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>.</p><p>The long-term vision is for Penumbra to become a &quot;universal interchain privacy layer&quot;<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup> that would support general-purpose zero-knowledge programmability via asynchronous batch-oriented smart contracts, with direct bridges to Ethereum and other ecosystems<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup>. However, no concrete plans or timelines for this have been established.<sup id="fnref-5"><a href="#fn-5" class="footnote-ref">5</a></sup> </p><p>Initially, Penumbra aims to provide a narrow scope of functionality, centering on the shielding of <a href="https://ibcprotocol.org/" target="_blank" rel="noopener noreferrer">IBC</a> assets. One of its core features is supporting private transactions, allowing for the private transfer of any IBC-compatible asset within its multi-asset shielded pool. Additionally, these shielded assets can be traded on Penumbra&#x27;s DEX, built upon the ZSwap primitive, which ensures privacy in trading and market-making by keeping participant addresses confidential.<sup id="fnref-6"><a href="#fn-6" class="footnote-ref">6</a></sup> </p><p>ZSwap uses concentrated liquidity pools and sophisticated routing logic to match trades across multiple pools. Penumbra&#x27;s ledger processes transactions in batches, grouping multiple transactions together and executing them simultaneously in a single block. This design helps address Maximal Extractable Value (MEV) issues.<sup id="fnref-7"><a href="#fn-7" class="footnote-ref">7</a></sup> <sup id="fnref-8"><a href="#fn-8" class="footnote-ref">8</a></sup></p><p>Penumbra&#x27;s key hierarchy is based on the <a href="https://zips.z.cash/protocol/protocol.pdf" target="_blank" rel="noopener noreferrer">Zcash Sapling</a> design, with a few modifications, including leveraging the BLS12-377 proving curve. This curve, first defined for use in Aleo&#x27;s Zexe, allows for the possibility of transitioning to a future universal SNARK proving system, as opposed to Sapling&#x27;s BLS12-381 curve. In its initial mainnet release, Penumbra relies on multiple Groth16 proofs for zero-knowledge functionality, requiring a trusted setup ceremony.<sup id="fnref-9"><a href="#fn-9" class="footnote-ref">9</a></sup> <sup id="fnref-10"><a href="#fn-10" class="footnote-ref">10</a></sup></p><p>Penumbra Labs has devised a Flow Encryption scheme designed to overcome the limitations of traditional zero-knowledge proofs in multi-party situations by encrypting and aggregating data using cryptographic primitives, such as Distributed Key Generation (DKG) and Homomorphic Threshold Encryption.<sup id="fnref-11"><a href="#fn-11" class="footnote-ref">11</a></sup> However, the current version of Tendermint lacks ABCI 2.0, which is necessary for implementing threshold cryptography, and as a result, privacy for trade amounts in ZSwap cannot be achieved in the initial mainnet release. Once ABCI 2.0 becomes available in Tendermint, Penumbra Labs plans to promptly prioritize a major chain upgrade to include Flow Encryption.<sup id="fnref-12"><a href="#fn-12" class="footnote-ref">12</a></sup></p><p>Penumbra&#x27;s delegated proof of stake system allows delegators to maintain privacy in various aspects, initially shielding account addresses involved in staking, submitting proposals, and voting. Conversely, the validator set and their governance votes are public and attributable, ensuring accountability.<sup id="fnref-6"><a href="#fn-6" class="footnote-ref">6</a></sup> <sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup> </p><p>Although Penumbra utilizes Tendermint consensus and is IBC-compatible, it does not use the Cosmos SDK. This choice stems from the fact that the Cosmos SDK is based on an account model, while Penumbra is built around a UTXO model, similar to Bitcoin and Zcash. Achieving privacy with an account model is highly challenging, making the UTXO model a more suitable choice for Penumbra&#x27;s goals.<sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup></p><p>Penumbra Labs has developed its Rust-based shielded blockchain as an open source project, which includes many components that are generally useful for other projects. The team builds publicly and follows an explicit policy of capturing all important technical design discussions in Discord or GitHub, promoting decentralized development and preventing the siloing of specialized knowledge.</p><p><a href="https://radiantcommons.com/" target="_blank" rel="noopener noreferrer">Radiant Commons</a>, announced in September 2022 as a non-profit contributor, is responsible for &quot;extending the Penumbra ecosystem&quot;<sup id="fnref-14"><a href="#fn-14" class="footnote-ref">14</a></sup> and is led by Josh Cincinnati, the former Executive Director of the Zcash Foundation. Additional organizations contributing to Penumbra development include <a href="https://strange.love/" target="_blank" rel="noopener noreferrer">Strangelove</a>, who are contributing to the IBC relayer and other technologies related to validators, and <a href="https://zpoken.io/" target="_blank" rel="noopener noreferrer">Zpoken</a>, who are working on a Penumbra Chromium extension and web tooling.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="production-stage">Production Stage<a class="hash-link" href="#production-stage" title="Direct link to heading">​</a></h3><p>Penumbra is currently in the testnet stage of product development, with no plans for incentivized testnets. Penumbra Labs originally aimed to launch Penumbra on mainnet by the end of 2022 <sup id="fnref-15"><a href="#fn-15" class="footnote-ref">15</a></sup>, but the new launch target appears to be the end of this year<sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup>. New tesnet versions are released biweekly, named after Jupiter&#x27;s moons. The 51st testnet, Elara, was released on April 24, 2023<sup id="fnref-16"><a href="#fn-16" class="footnote-ref">16</a></sup>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="development-strategy">Development Strategy<a class="hash-link" href="#development-strategy" title="Direct link to heading">​</a></h3><p>Penumbra Labs&#x27; development strategy prioritizes launching on mainnet with fixed functionality, which encompasses a private batch-oriented DEX, private transactions including staking, IBC interoperability, and on-chain governance. While this serves as their initial focus, the team envisions future support for general-purpose privacy programmability, aiming to achieve true zero-knowledge programmability through asynchronous batch-oriented smart contracts. However, no concrete plans or timelines for this have been established.<sup id="fnref-9"><a href="#fn-9" class="footnote-ref">9</a></sup> <sup id="fnref-5"><a href="#fn-5" class="footnote-ref">5</a></sup> </p><h4 class="anchor anchorWithStickyNavbar_mojV" id="agile-proof-development">Agile Proof Development<a class="hash-link" href="#agile-proof-development" title="Direct link to heading">​</a></h4><p>To facilitate swift and flexible development, Penumbra Labs initially utilized &quot;transparent proofs,&quot; where witness data, typically secret information in zero-knowledge proofs, was presented in cleartext. This approach allowed a verification algorithm to directly validate the proof&#x27;s public inputs against the cleartext witness data. Although transparent proofs lack privacy, their interface is identical to a real zero-knowledge proof, which helped Penumbra Labs confirm the system&#x27;s data compatibility with the eventual private implementation. This technique avoids the need to implement cryptographic aspects before finalizing mechanism design details, providing more room for experimentation.<sup id="fnref-17"><a href="#fn-17" class="footnote-ref">17</a></sup> Starting from February 27, 2023, testnet 46 (Lysithea) began the migration from transparent proofs to zero-knowledge proofs<sup id="fnref-18"><a href="#fn-18" class="footnote-ref">18</a></sup>, and the process is now nearing completion.<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="interoperability">Interoperability<a class="hash-link" href="#interoperability" title="Direct link to heading">​</a></h4><p>Penumbra is integrated with IBC but the Cosmos SDK was not used to develop the blockchain. This is primarily because the Cosmos SDK is based on an account model, whereas Penumbra is built around a UTXO model, similar to Bitcoin and Zcash. An account model requires a map of all balances to validate transactions, and achieving privacy in such a system is highly challenging.<sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup></p><p>IBC allows independent blockchains to directly communicate and trade assets without building custom bridge solutions. With IBC, a dedicated channel is used to send data (usually tokens) through a trustless relayer. The relayer either has RPC access to, or is running full nodes of, both the source and destination chains. Once the data reaches the destination chain, it is authenticated.<sup id="fnref-19"><a href="#fn-19" class="footnote-ref">19</a></sup> </p><p>IBC is primarily used in the Cosmos ecosystem, where any blockchain developed with the Cosmos SDK <a href="https://ibc.cosmos.network/main/ibc/integration.html" target="_blank" rel="noopener noreferrer">can easily integrate IBC</a>. Significantly, even non-Cosmos SDK chains like Penumbra can incorporate IBC, as demonstrated by their independent IBC implementation. Furthermore, Penumbra holds the distinction of being the first non-Cosmos-SDK chain to establish a connection with the Cosmos Hub<sup id="fnref-20"><a href="#fn-20" class="footnote-ref">20</a></sup>. By incorporating IBC, Penumbra enables all IBC-compatible assets to become shielded once they are transferred into Penumbra&#x27;s &quot;zone.&quot;</p><p>At present, Penumbra Labs has no concrete plans to build custom bridges for Ethereum or other Layer 1 blockchains in their initial mainnet release. Nevertheless, it is anticipated that Ethereum assets bridged over to IBC using solutions like <a href="https://www.gravitybridge.net/" target="_blank" rel="noopener noreferrer">Gravity Bridge</a>, <a href="https://axelar.network/" target="_blank" rel="noopener noreferrer">Axelar</a>, or, in the future, <a href="https://blog.namada.net/the-namada-ethereum-bridge/" target="_blank" rel="noopener noreferrer">Namada</a>,  should technically be transferable to Penumbra. Penumbra Labs envisions directly bridging with Ethereum in a future release.<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup></p><p>In earlier protocol designs, when Penumbra&#x27;s notes were 64-bits, there would have been a &quot;total on-chain limit of 18.446 wrapped ETH&quot; due to the decimal precision requirements for wrapped ETH<sup id="fnref-21"><a href="#fn-21" class="footnote-ref">21</a></sup>. This constraint could have potentially hindered the accessibility of Ethereum assets bridged to IBC. Imposing limitations on inbound transfers, like permitting only low-precision amounts of Ethereum, might have posed a usability challenge for users. Nevertheless, Penumbra recently completed the process of upgrading its notes to 128-bits, which removes this limitation and enables greater accessibility of Ethereum assets within the Penumbra ecosystem<sup id="fnref-22"><a href="#fn-22" class="footnote-ref">22</a></sup>.</p><p>Penumbra&#x27;s DEX will not have any preference for which bridged assets they support, and hence all IBC-compatible assets should technically be able to be shielded and traded on Penumbra.<sup id="fnref-23"><a href="#fn-23" class="footnote-ref">23</a></sup> In comparison, Osmosis, a transparent Cosmos chain featuring a native IBC DEX, has opted to support only Axelar in their primary frontend as a means to simplify the user experience.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="building-in-public">Building in Public<a class="hash-link" href="#building-in-public" title="Direct link to heading">​</a></h4><p>Penumbra Labs, the founding development team, operates with a high degree of transparency, particularly in regard to their technical design processes. By conducting these discussions on public platforms like GitHub and Discord, they create a clear archive of thought processes accessible to the wider community.</p><p>They have developed a specialized shielded blockchain using the Rust programming language, incorporating many components that are generalizable and currently being leveraged or co-developed by many different teams.</p><p>Examples include:</p><ul><li>A library for interacting with Tendermint, <a href="https://github.com/penumbra-zone/tower-abci" target="_blank" rel="noopener noreferrer"><code>tower-abci</code></a>, which is also used by <a href="https://namada.net/" target="_blank" rel="noopener noreferrer">Namada</a>.</li><li>Their <a href="https://github.com/penumbra-zone/jmt" target="_blank" rel="noopener noreferrer">Jellyfish Merkle Tree (JMT) library</a>, which is being co-developed with <a href="https://www.sovereign.xyz/" target="_blank" rel="noopener noreferrer">Sovereign Labs</a>.</li><li>Their <code>penumbra-storage</code> library for managing chain state, which is being used by at least one unannounced blockchain project.</li></ul><p>By building in public and promoting the reuse of their technologies, Penumbra Labs is  fostering a collaborative ecosystem that is helping to improve the state of the art in Rust-based blockchain development.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="zswap">ZSwap<a class="hash-link" href="#zswap" title="Direct link to heading">​</a></h3><p>Penumbra&#x27;s blockchain includes a native private DEX, ZSwap. ZSwap allows users to privately swap between any pair of IBC assets. The vision is that individual swaps do not reveal trade amounts. Instead, all swaps in each block are executed in a single batch, where only the total amount in each batch is revealed after the batch has been finalized. By doing batch execution and having privacy for the individual trade amounts, this prevents front-running while maintaining long-term privacy for individual trades. <sup id="fnref-7"><a href="#fn-7" class="footnote-ref">7</a></sup></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="concentrated-private-liquidity">Concentrated Private Liquidity<a class="hash-link" href="#concentrated-private-liquidity" title="Direct link to heading">​</a></h4><p>Inspired by Uniswap v3, ZSwap users have the option to supply liquidity by anonymously establishing concentrated liquidity positions with a simple linear equation, i.e., a constant slope. Liquidity Providers (LPs) can approximate any curve they like for each segment of the curve approximation by creating multiple smaller positions. By combining these smaller positions, LPs can effectively fine-tune their overall position to closely resemble their desired price curve, allowing for a more customized and precise strategy. Although positions display the liquidity amount and concentration range, they are not connected to any Penumbra account or address. This allows users to both discretely and discreetly approximate various trading functions without exposing their particular opinions on prices, assuming they have exercised caution when transferring their assets onto Penumbra from the transparent cryptocurrency world. In addition to these features, another distinction between Penumbra’s liquidity pools and Uniswap v3 is that Penumbra allows liquidity providers to set customized fee amounts for each pool, enabling market competition to establish ideal fee prices.<sup id="fnref-7"><a href="#fn-7" class="footnote-ref">7</a></sup></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="dex-engine">DEX Engine<a class="hash-link" href="#dex-engine" title="Direct link to heading">​</a></h4><p>In Penumbra, swap intents are executed concurrently in a batch, occurring once per block<sup id="fnref-24"><a href="#fn-24" class="footnote-ref">24</a></sup>. The &quot;DEX engine&quot; is the component responsible for handling batch execution in ZSwap. During this process, the DEX engine manages swap routing for asset pairs, even those lacking a dedicated liquidity pool, provided that the assets are available in other pools and a suitable route exists. For each trade or &quot;swap intent,&quot; the DEX engine determines the optimal route across multiple liquidity pools, aiming for the best price and lowest fees. Unlike Uniswap, which hosts routing logic off-chain<sup id="fnref-25"><a href="#fn-25" class="footnote-ref">25</a></sup>, Penumbra&#x27;s routing takes place on-chain. Additionally, Penumbra&#x27;s routing can potentially split a swap intent into multiple streams when necessary. For example, if you have a certain amount of <code>TokenA</code> and you desire a specific amount of <code>TokenB</code>, the optimal settlement may involve two different streams. In this case, <code>x% TokenA</code> is sent across stream1 <code>(A-&gt;A/C-&gt;C/D-&gt;D/B-&gt;B)</code> to receive <code>~x% TokenB</code>, and the remaining <code>y% TokenA</code> is sent across stream2 <code>(A-&gt;A/C-&gt;C/E-&gt;E/B-&gt;B)</code> to receive <code>~y% TokenB</code>.<sup id="fnref-8"><a href="#fn-8" class="footnote-ref">8</a></sup></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="penumbra-v1-limitations">Penumbra v1 Limitations<a class="hash-link" href="#penumbra-v1-limitations" title="Direct link to heading">​</a></h4><p>It is essential to mention that Penumbra&#x27;s vision for ZSwap will not initially provide privacy for individual trade amounts when it launches to mainnet this year. This limitation arises because the threshold cryptography, which enables the chain to work with encrypted trade amounts and decrypt batch totals, requires ABCI 2.0—an enhanced interface to Tendermint. Although Tendermint 0.35 included ABCI 2.0, the release was unstable and had to be rolled back. Due to this rollback, it may take at least another year before Penumbra can utilize ABCI 2.0. Consequently, Penumbra will launch their v1 on mainnet this year without threshold cryptography. Once ABCI 2.0 becomes available in Tendermint, Penumbra Labs plans to promptly prioritize a major chain upgrade to fulfill their initial vision.<sup id="fnref-12"><a href="#fn-12" class="footnote-ref">12</a></sup> </p><p>According to Finch, a core engineer at Penumbra Labs, the MEV in their v1 system is still significantly reduced compared to traditional DEXs due to the limited actions available based on the batch execution system design. In Penumbra&#x27;s design, the only decision that can be influenced by observing a swap intent in the mempool is whether to submit an additional transaction to the batch of swaps. Notably, the ordering of swaps within a block does not impact the batch execution of the DEX, which constrains the potential for MEV extraction.<sup id="fnref-26"><a href="#fn-26" class="footnote-ref">26</a></sup></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="technical-design">Technical Design<a class="hash-link" href="#technical-design" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="proving-architecture">Proving Architecture<a class="hash-link" href="#proving-architecture" title="Direct link to heading">​</a></h4><p>Initially, Penumbra employs the Groth16 proving system in conjunction with the BLS12-377 proving curve. The BLS12-377 curve was first defined for use in Aleo&#x27;s Zexe and allows for the possibility of transitioning to a future universal SNARK proving system, as opposed to the BLS12-381 curve<sup id="fnref-9"><a href="#fn-9" class="footnote-ref">9</a></sup>.<sup id="fnref-10"><a href="#fn-10" class="footnote-ref">10</a></sup> Although the industry appears to be gravitating towards universal PLONK-based systems, Penumbra has opted for Groth16 due to its compact proofs and high-performance characteristics. De Valence explains that the high performance is because, with Groth16, the proof statement is already encoded in the trusted setup. In contrast, he argues that universal PLONK-based systems would require complex circuit optimization work to achieve equivalent performance, as the proof statement must be encoded as part of the execution process.<sup id="fnref-27"><a href="#fn-27" class="footnote-ref">27</a></sup> </p><p>Penumbra Labs aims to reduce the initial engineering focus on circuit optimization and have stronger assurances that all of their fixed-functionality performs exceptionally well. As Penumbra supports active market making as part of its fixed functionality, forming proofs for a transaction in around 1 second is their performance target<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup>, so it is well within their 5-second block interval, allowing market makers to efficiently react to price information. Groth16 satisfies this use case well for them: recent Macbook Pro tests have shown to satisfy this target<sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup>. De Valence notes that Penumbra Labs is interested in moving towards a PLONK-based system in the future, once a decision is made to officially support programmability and general functionality.<sup id="fnref-27"><a href="#fn-27" class="footnote-ref">27</a></sup></p><p>As Penumbra is leveraging Groth16, a trusted setup ceremony will be required before it goes to mainnet this year. However, once the protocol eventually transitions to a PLONK-based system, the need for trusted setups will be eliminated.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="addresses-and-keys">Addresses and Keys<a class="hash-link" href="#addresses-and-keys" title="Direct link to heading">​</a></h4><p>Penumbra&#x27;s key hierarchy is based on the <a href="https://zips.z.cash/protocol/protocol.pdf" target="_blank" rel="noopener noreferrer">Zcash Sapling</a> design, with a few notable modifications: it is tailored for use with BLS12-377 instead of BLS12-381, employs Poseidon as a hash and PRF, utilizes decaf377 as the embedded group, and incorporates support for fuzzy message detection.<sup id="fnref-28"><a href="#fn-28" class="footnote-ref">28</a></sup></p><p>Similar to other blockchains, the <em>seed phrase</em> is the root key material. Multiple unlinkable accounts, each with a unique <em>spending key</em>, can be derived from this seed phrase<sup id="fnref-29"><a href="#fn-29" class="footnote-ref">29</a></sup>. This is similar to Zcash but dissimilar to public blockchains like Ethereum, where accounts derived from the same seed phrase can be linked to each other.</p><p>The <em>spending key</em> represents the ability to make transactions for a given account group (it has <em>spending authority</em>). Each spending key controls an <em>account group</em>, with 2^32 accounts in this group. Each account within the account group has one default address and 2^96 - 1 ephemeral addresses, resulting in a total of 2^128 addresses per spending key. This allows Penumbra users to manage multiple distinct accounts, customized for different purposes, while all being controlled by a single spending key and scanned with the same viewing key.<sup id="fnref-30"><a href="#fn-30" class="footnote-ref">30</a></sup> <sup id="fnref-31"><a href="#fn-31" class="footnote-ref">31</a></sup></p><p>For a given account, only the default address will be exposed or easily accessible in the wallet interface as the ordinary &quot;indexed address&quot;, with the rest being &quot;ephemeral addresses&quot; reserved for more publicly facing scenarios where it is better to use an address once, such as incoming IBC transfers<sup id="fnref-32"><a href="#fn-32" class="footnote-ref">32</a></sup>. In Penumbra, transactions maintain privacy by concealing address information due to their shielded nature. On the other hand, transparent counterparty chains reveal addresses in transactions. Ephemeral addresses serve as a solution to bridge this privacy gap since it&#x27;s visible on the originating IBC chain that a transfer of a specific denomination and amount was made to a Penumbra address.<sup id="fnref-33"><a href="#fn-33" class="footnote-ref">33</a></sup></p><p>While the protocol does not directly prohibit the multiple uses of an ephemeral address, the design goal aims to abstract the usage of such addresses away from the user in the wallet interface. Additionally, the &quot;default address&quot; exposed in the wallet is never utilized during public, on-chain interactions like this.<sup id="fnref-32"><a href="#fn-32" class="footnote-ref">32</a></sup></p><p>Penumbra also has viewing and detection keys for each spending key<sup id="fnref-34"><a href="#fn-34" class="footnote-ref">34</a></sup>:</p><ul><li>The <em>full viewing key</em> can create proofs and view all incoming and outgoing transactions. (This permission can be further divided into separate <em>incoming</em> and <em>outgoing</em> viewing keys.)</li><li>The <em>detection key</em> can be shared with a relatively untrusted third-party Penumbra scanning service in the future, to outsource probabilistic transaction detection via <a href="https://protocol.penumbra.zone/main/crypto/fmd.html" target="_blank" rel="noopener noreferrer">fuzzy message detection</a>. This feature can be beneficial for bandwidth or compute-constrained environments, such as mobile wallets. (It should be noted that while the cryptography to support this feature will exist in the initial mainnet release, the service itself will not be available, as it becomes more useful in the future once there are more total transactions to scan<sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup>.)</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="data-structure">Data Structure<a class="hash-link" href="#data-structure" title="Direct link to heading">​</a></h4><p>Penumbra&#x27;s transaction model builds upon the Zcash shielded transaction design, incorporating modifications to accommodate multiple assets and additional actions tailored to its DEX and staking architecture, among other enhancements. The Zcash model, derived from Bitcoin&#x27;s UTXO model, records value in transaction outputs specifying spending conditions. Penumbra adapts this approach, using notes to specify value type, amount, spending key, and a unique nullifier, functioning similarly to UTXOs.<sup id="fnref-35"><a href="#fn-35" class="footnote-ref">35</a></sup></p><p>Penumbra&#x27;s shielded chain transfers transaction execution to the client-side, where clients generate zero-knowledge proofs for spending a note, which full nodes can then verify. Notes, unlike UTXOs, are not part of the public chain state. The chain contains a state commitment tree, an incremental Merkle tree with public commitments to private notes. Creating a note involves generating a commitment and proving its validity. Spending a note requires proving its inclusion in the state commitment tree, using the spending key for authorization, and revealing the nullifier to prevent double-spending.<sup id="fnref-35"><a href="#fn-35" class="footnote-ref">35</a></sup></p><p>Penumbra adapts the <a href="https://developers.diem.com/papers/jellyfish-merkle-tree/2021-01-14.pdf" target="_blank" rel="noopener noreferrer">Jellyfish Merkle Tree (JMT)</a>, a high-performance, scalable sparse Merkle tree developed for Libra/Diem, to record public state commitments and maintain private state. In Penumbra&#x27;s adaptation, data is stored as <a href="https://protobuf.dev/" target="_blank" rel="noopener noreferrer">protobufs</a> for easy parsing and consensus among nodes. </p><p>To achieve scalability when managing private state, Penumbra also introduces an additional data structure called the Tiered Commitment Tree (TCT). This lightweight structure enables efficient delta updates through its tiered block-level and epoch-level subtrees<sup id="fnref-36"><a href="#fn-36" class="footnote-ref">36</a></sup>. Penumbra Labs asserts that this structure accelerates traditional designs to a theoretical upper bound of 4,000,000x, as it enables clients to bypass processing blocks or epochs lacking relevant transactions, ensuring that client synchronization work remains proportional solely to their activity rather than the total on-chain activity<sup id="fnref-37"><a href="#fn-37" class="footnote-ref">37</a></sup>. The TCT and the JMT are two separate structures, with the root of the TCT stored in the JMT to bind it to the JMT root hash.<sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="flow-encryption">Flow Encryption<a class="hash-link" href="#flow-encryption" title="Direct link to heading">​</a></h4><p>Penumbra Labs has devised a Flow Encryption scheme designed to overcome the limitations of traditional zero-knowledge proofs in multi-party situations by encrypting and aggregating data using additional cryptographic primitives.<sup id="fnref-11"><a href="#fn-11" class="footnote-ref">11</a></sup></p><p>In the future, when Penumbra can utilize ABCI 2.0, the protocol&#x27;s design will incorporate an integer-valued additively homomorphic encryption scheme with threshold decryption capabilities. This will enable the encryption of individual transaction amounts within a batch. With homomorphic encryption, validators can compute the encrypted batch total by summing the ciphertexts of all relevant transactions. Subsequently, through a threshold decryption process that relies on a Distributed Key Generation (DKG) scheme, validators decrypt this batch total and record the value on the ledger. Notably, Flow Encryption will be applied across many aspects of Penumbra, including Zswap, staking, and delegator voting.<sup id="fnref-11"><a href="#fn-11" class="footnote-ref">11</a></sup> <sup id="fnref-38"><a href="#fn-38" class="footnote-ref">38</a></sup></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="networking-privacy">Networking Privacy<a class="hash-link" href="#networking-privacy" title="Direct link to heading">​</a></h4><p>For Penumbra validators and clients, the anonymity of networking data, such as IP addresses and other ephemeral data, is being addressed differently. Validators are expected to be sophisticated enough to incorporate Tor as part of their stack if they desire additional protection. Running a Penumbra validator over Tor should be possible, although it has not been tested yet<sup id="fnref-39"><a href="#fn-39" class="footnote-ref">39</a></sup>. For client privacy, De Valence expresses hesitation about relying on paid service providers like Nym or dVPN, stating that &quot;if Penumbra is supposed to be private, you shouldn&#x27;t have to pay for some third party service to get that&quot;<sup id="fnref-40"><a href="#fn-40" class="footnote-ref">40</a></sup>. Instead, Penumbra Labs plans on initially incorporating direct Tor support in the client command line interface, leveraging <a href="https://blog.torproject.org/arti_100_released/" target="_blank" rel="noopener noreferrer">Arti</a>, the recent Rust Tor implementation.<sup id="fnref-13"><a href="#fn-13" class="footnote-ref">13</a></sup></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="governance--economics">Governance &amp; Economics<a class="hash-link" href="#governance--economics" title="Direct link to heading">​</a></h3><p>Penumbra is a delegated proof of stake blockchain using Tendermint consensus. Upon mainnet launch, it will feature on-chain governance for coordinating signaling proposals, modifying chain parameters, and allocating DAO treasury funds.<sup id="fnref-41"><a href="#fn-41" class="footnote-ref">41</a></sup> Mainnet for Penumbra therefore marks the transition to a decentralized model for decision-making, transferring the power from Penumbra Labs to the community. Penumbra&#x27;s delegation system and governance is modeled after <a href="https://hub.cosmos.network/main/governance/" target="_blank" rel="noopener noreferrer">Cosmos Hub governance</a>, with modifications such as removing the <code>No With Veto</code> voting option, adding <code>emergency</code> proposals, and providing privacy for delegators&#x27; votes.<sup id="fnref-42"><a href="#fn-42" class="footnote-ref">42</a></sup></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="staking">Staking<a class="hash-link" href="#staking" title="Direct link to heading">​</a></h4><p>Delegators can privately stake PEN, Penumbra&#x27;s native token, to a validator and then receive dPEN(v), which represents the share of a specific validator&#x27;s delegation pool. In this example, (v) would be replaced with the identifier of the validator. Penumbra describes this as working similarly to how liquidity pools represent shares. Instead of tracking staking rewards directly, the chain tracks an exchange rate between the staking token, PEN, and each validator&#x27;s delegation token, dPEN(v).<sup id="fnref-43"><a href="#fn-43" class="footnote-ref">43</a></sup> One can only realize staking rewards upon undelegation, by unbonding one&#x27;s stake which converts delegation tokens dPEN(v) into PEN <sup id="fnref-44"><a href="#fn-44" class="footnote-ref">44</a></sup>, unlike in Cosmos Hub or similar chains where one can claim rewards at any time.</p><p>This design is important for Penumbra because it allows staking rewards to be distributed without breaking anonymity. Penumbra&#x27;s shielded asset system is leveraged to provide delegators with privacy around who they are delegating to and how much they are earning. If delegators were paid out continuously, they would have to reveal a payment address, sacrificing their privacy in exchange for participating in economically securing the chain.<sup id="fnref-45"><a href="#fn-45" class="footnote-ref">45</a></sup></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="proposals--voting">Proposals &amp; Voting<a class="hash-link" href="#proposals--voting" title="Direct link to heading">​</a></h4><p>In Penumbra, proposals are broadly categorized into two types: <code>normal</code> and <code>emergency</code>. <code>Normal</code> proposals encompass signaling proposals, on-chain parameter changes, and Penumbra DAO treasury spending proposals. In contrast, <code>emergency</code> proposals are solely reserved for signaling purposes and do not impact the chain state in any way. To submit a proposal, a minimum amount of the staking token, which is specified by a chain parameter set by governance, must be deposited.<sup id="fnref-42"><a href="#fn-42" class="footnote-ref">42</a></sup></p><p>Penumbra employs delegated voting. Validators&#x27; voting decisions are always public and serve as the default vote for their delegation pool, while delegators&#x27; votes remain private and can override their proportional share of the validators&#x27; vote.<sup id="fnref-42"><a href="#fn-42" class="footnote-ref">42</a></sup></p><p>For both proposal types, the voting period commences immediately in the subsequent block after the proposal is committed to the blockchain. All <code>normal</code> proposals have a fixed-length voting period, which can be modified through governance. Emergency signaling proposals are accepted once they receive 2/3 majority stake support, potentially allowing immediate acceptance without delegators&#x27; input, as validators&#x27; default votes represent their delegation pool. Emergency signaling proposals can be utilized to publicly coordinate a chain halt in case of a security issue. In the event that an emergency proposal is approved and includes the &quot;halt&quot; flag, the chain will cease operations automatically, without necessitating additional validator coordination. Naturally, resuming the chain&#x27;s operation will demand off-chain coordination efforts.<sup id="fnref-42"><a href="#fn-42" class="footnote-ref">42</a></sup></p><p>Voting options include <code>Yes</code>, <code>No</code>, or <code>Abstain</code>. One distinction from Cosmos governance is that Penumbra does not have a <code>No With Veto</code> option. Instead, an on-chain parameter set by governance specifies a &quot;sufficiently high threshold of &#x27;no&#x27; votes&quot;, and if the threshold is exceeded, the proposal will be <em>slashed</em> and the deposit will be burned. This mechanism is designed to discourage spam proposals. Deposits will be returned for proposals that either succeed or fail but remain below the designated threshold.<sup id="fnref-42"><a href="#fn-42" class="footnote-ref">42</a></sup></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="liquidity-compensation">Liquidity Compensation<a class="hash-link" href="#liquidity-compensation" title="Direct link to heading">​</a></h4><p>Balancing staking and liquidity provision in systems that support both is vital for maintaining competitive equilibrium between the two uses of the staking token. Penumbra&#x27;s staking design introduces further challenges due to the native delegation tokens for each validator. To stabilize this competition, ZSwap implements a liquidity compensation mechanism, which compensates LPs for the opportunity cost of not staking. Each epoch&#x27;s total issuance is divided between delegators and liquidity providers, with the chain establishing a target ratio of bonded stake to liquidity provision stake. Liquidity compensation issuance is allocated to eligible active liquidity positions during that epoch, proportionate to the liquidity provided. However, the full mechanism design details for liquidity compensation have yet to be established. <sup id="fnref-7"><a href="#fn-7" class="footnote-ref">7</a></sup></p><p>This approach offers several advantages, such as incentivizing LPs to effectively deploy their capital, guaranteeing that fees in delegation token markets paired with PEN cover the opportunity cost of not staking the PEN, and providing credibly neutral compensation for any trading pair involving PEN without the need for governance proposals.<sup id="fnref-7"><a href="#fn-7" class="footnote-ref">7</a></sup></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="fee-mechanism">Fee Mechanism<a class="hash-link" href="#fee-mechanism" title="Direct link to heading">​</a></h4><p>Penumbra will implement a multidimensional fee market, drawing upon research from Diamandis, Evans, Chitra, and Angeris in their paper <em><a href="https://arxiv.org/pdf/2208.07919.pdf" target="_blank" rel="noopener noreferrer">Dynamic Pricing for Non-fungible Resources: Designing Multidimensional Blockchain Fee Markets</a></em> (August 2022).<sup id="fnref-46"><a href="#fn-46" class="footnote-ref">46</a></sup></p><p>Penumbra Labs has not yet finalized the design of the fee mechanism, but they have explored several design paths. Initially, in 2022, the plan was to burn fees. However, the protocol data structures were expanded to be forward-compatible with multi-asset fees. With the possibility for fees to be accepted in various assets, burning them no longer made sense to the team, and the concept of directing fees to a DAO treasury was then proposed.<sup id="fnref-47"><a href="#fn-47" class="footnote-ref">47</a></sup> This idea evolved further, allowing each validator to specify different &quot;funding streams&quot; and allocate a percentage of fees toward entities such as the Penumbra DAO, instead of forcing all fees to go to the DAO.<sup id="fnref-48"><a href="#fn-48" class="footnote-ref">48</a></sup> </p><p>Now, based on new conversations in 2023, it seems possible that Penumbra will have a mechanism similar to EIP-1559, where there is a base fee that is burned, with any excess fee going to the block-proposing validator&#x27;s &quot;funding streams&quot;<sup id="fnref-49"><a href="#fn-49" class="footnote-ref">49</a></sup>.</p><p>In the current implementation of the protocol, the native asset is the only acceptable fee token. Penumbra Labs is well aware that allowing fees to be paid in assets other than their native asset will weaken privacy guarantees, as users will then exist within a smaller privacy set of users using that asset to pay for fees, since fees are always public. Should these designs be adopted, it&#x27;s likely their software will have warnings that using alternate assets for fees is not recommended<sup id="fnref-50"><a href="#fn-50" class="footnote-ref">50</a></sup>. Additionally, if fees are paid without the native asset, the protocol may swap the &quot;base fee&quot; amount into the native asset and burn it.<sup id="fnref-51"><a href="#fn-51" class="footnote-ref">51</a></sup></p><p><em>To reiterate, fee mechanisms in Penumbra are still in a design exploration phase, so the information presented above should be viewed as a glimpse into the team&#x27;s thought process, rather than a final system design.</em></p><hr><p>Note: this overview is not 100% comprehensive, review Penumbra&#x27;s <a href="https://protocol.penumbra.zone/main/penumbra.html" target="_blank" rel="noopener noreferrer">Spec</a> and <a href="https://penumbra.zone/blog/" target="_blank" rel="noopener noreferrer">Blog</a> for more details.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="analysis">Analysis<a class="hash-link" href="#analysis" title="Direct link to heading">​</a></h2><p><em>Analysis performed by Stellar Magnet. Warning: there is a lot of subjectivity in this section.</em></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="transaction-privacy">Transaction Privacy<a class="hash-link" href="#transaction-privacy" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="ephemeral-addresses">Ephemeral Addresses<a class="hash-link" href="#ephemeral-addresses" title="Direct link to heading">​</a></h4><p>Ephemeral addresses in Penumbra play a crucial role in enhancing user privacy by offering a vast number of unlinkable and diversified addresses for each spending key. While each spending key has a persistent default address, it also has access to 2^96 ephemeral addresses. These ephemeral addresses are designed to be used in publicly visible actions, such as incoming IBC transfers. It&#x27;s important to note that for all other transaction types, addresses used are never visible: instead, zero-knowledge cryptography ensures privacy in these instances.</p><p>Utilizing ephemeral addresses for public-facing transactions provides enhanced assurances that these actions remain untraceable and unlinked to the user&#x27;s default wallet address. Penumbra Labs&#x27; design of their ephemeral address system showcases their expertise in privacy-focused user experience design, aiming to minimize cognitive overload. This strategy ensures that users can enjoy the highest level of privacy on Penumbra without needing to manually manage multiple accounts or keep track of their usage, significantly reducing concerns about potential information leaks during transactions.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>New Post-Web Pattern</h5></div><div class="admonition-content"><p><em>Ephemeral Addresses for Public Interactions</em> has been added to our work-in-progress <a href="/wiki/Post-Web Patterns/ephemeral-addresses">Post-Web Pattern Library</a>. More details on what we mean regarding the Post-Web will be provided in the future.</p></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="trade-amounts-not-initially-private">Trade Amounts Not Initially Private<a class="hash-link" href="#trade-amounts-not-initially-private" title="Direct link to heading">​</a></h4><p>Although Penumbra aims to provide privacy-focused features, its initial launch on mainnet will not include privacy for individual trade amounts in ZSwap. This is due to Penumbra&#x27;s reliance on Tendermint and a rollback from the unstable Tendermint 0.35, which included the crucial ABCI 2.0 interface for enabling threshold cryptography. Consequently, Penumbra will launch v1 on mainnet without the threshold cryptography required for its initial vision, which adds limitations to the data that can be kept private during usage of its DEX<sup id="fnref-12"><a href="#fn-12" class="footnote-ref">12</a></sup>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="anonymity-set">Anonymity Set<a class="hash-link" href="#anonymity-set" title="Direct link to heading">​</a></h4><p>As Penumbra has not yet launched, the size of its anonymity set remains undefined. The protocol&#x27;s adoption may initially be limited to users who already hold assets on IBC-compatible chains since there are no plans to construct a direct bridge to Ethereum or other Layer 1 networks. Due to the two-hop process, Ethereum users seeking general transaction privacy may not choose Penumbra as their first option, particularly as they explore alternatives to sanctioned solutions such as Tornado Cash or the now-defunct zk.money. Though early adopters of Penumbra might not be Ethereum natives, they could become interested once Penumbra achieves a significant TVL and proves itself as a top-tier trading protocol, or when Penumbra establishes a direct bridge to Ethereum.</p><p>Penumbra Labs acknowledges the significance of proceeding cautiously when considering the acceptance of multiple assets for fees, in order to minimize fragmentation of the anonymity set. Should this be incorporated into the protocol design, one possible approach is to restrict the touchpoints, such as accepting multiple assets for incoming IBC transfers alone. The protocol could then automatically convert a certain percentage of the incoming asset into the native asset, which would be used for paying future fees. By limiting the use cases and automating the conversion process, Penumbra can maintain a larger anonymity set while also reducing cognitive overload for users regarding which fee token to use and the size of its anonymity set. </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="networking-privacy-1">Networking Privacy<a class="hash-link" href="#networking-privacy-1" title="Direct link to heading">​</a></h3><p>The measures being implemented for network privacy in  Penumbra seem acceptable. The assumption that validators ought to be sophisticated enough to incorporate Tor into their stack is justified. However, providing documentation for newcomers to validation would be beneficial.</p><p>Initially, Penumbra Labs is opting to integrate direct Tor support in the client command line interface, utilizing the recent Rust Tor implementation, <a href="https://blog.torproject.org/arti_100_released/" target="_blank" rel="noopener noreferrer">Arti</a>. While this offers a degree of privacy for clients, it will not cater to browser-based interactions. Mixnets like Nym, which provide <a href="https://blog.nymtech.net/introducing-the-nym-sdk-powerful-privacy-served-directly-to-your-browser-15c0919bdfbf" target="_blank" rel="noopener noreferrer">browser support</a>, could serve as viable alternatives. Nonetheless, it is understandable that Penumbra Labs might be reluctant to depend on Nym at present, given its relatively new technology status and concerns about users having to pay for a third-party service to guarantee privacy.</p><p>As chain analysis companies become more advanced with AI technology, addressing network privacy is increasingly important to offer stakeholders the best &quot;state of the art&quot; privacy. Although the surveillance attack surface is limited, since a user would have to submit a transaction directly to a “chain analyzing” node, it remains a risk. Therefore, as network privacy solutions become more sophisticated, the Penumbra community should continue to evaluate the options, ensuring both validators and clients have the best armor to thrive in the dark forest.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="decentralization">Decentralization<a class="hash-link" href="#decentralization" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="open-source-collaboration">Open Source Collaboration<a class="hash-link" href="#open-source-collaboration" title="Direct link to heading">​</a></h4><p>While some aspects of Penumbra Labs&#x27; operations may remain private, their commitment to transparency in technical design fosters a genuinely open source and decentralized culture. This approach promotes collaboration, knowledge sharing, and community-driven development. The effectiveness of this strategy can be seen in the growing number of open source contributors to their code repository, who are not part of Penumbra Labs but actively participate in the project&#x27;s ongoing development. Furthermore, organizations such as <a href="https://strange.love/" target="_blank" rel="noopener noreferrer">Strangelove Ventures</a>, <a href="https://zpoken.io/" target="_blank" rel="noopener noreferrer">Zpoken</a>, and <a href="https://radiantcommons.com/" target="_blank" rel="noopener noreferrer">Radiant Commons</a> are already contributing to the ecosystem&#x27;s decentralized development in various ways.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="navigating-jurisdictional-risks">Navigating Jurisdictional Risks<a class="hash-link" href="#navigating-jurisdictional-risks" title="Direct link to heading">​</a></h4><p>Penumbra Labs Inc., Radiant Commons, and Strangelove Ventures are all US-based companies, operating in a jurisdiction where regulatory agencies have increasingly targeted crypto, DeFi, DAOs, and privacy-focused projects. As privacy-centric protocols gain significant success, it is possible that some of their funds could be associated with activities deemed &quot;illicit&quot; by the state. For instance, Zcash has not attracted much attention from the US government due to limited &quot;illicit&quot; usage, while Tornado Cash became popular for shielding funds from major bridge and DeFi hacks, ultimately leading to US sanctions. While it is advantageous that Penumbra has adopted a decentralized development strategy early on, it will be even more beneficial to continue to grow a network of partners and contributors beyond the United States, allowing the project to more easily navigate the evolving regulatory landscape. </p><h4 class="anchor anchorWithStickyNavbar_mojV" id="penumbra-dao">Penumbra DAO<a class="hash-link" href="#penumbra-dao" title="Direct link to heading">​</a></h4><p>The upcoming mainnet launch of Penumbra this year features native configurations for validators to automatically allocate a percentage of their fees to the Penumbra DAO, a treasury governed by the network&#x27;s validators and stakers. This DAO can play a crucial role in fostering decentralized development of the Penumbra ecosystem by extending Penumbra&#x27;s technical reach beyond the United States. Upon mainnet launch, it would be beneficial for validators to contribute a portion of their commissions to the Penumbra DAO. The DAO also can facilitate the sustainability and progress of the protocol&#x27;s development without relying on a centralized team constantly seeking venture capital. By prioritizing a community-centered approach, the Penumbra DAO can become an essential force in ensuring the ecosystem&#x27;s long-term sustainability and resilience.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="community-incentives">Community Incentives<a class="hash-link" href="#community-incentives" title="Direct link to heading">​</a></h3><p>Penumbra&#x27;s approach to distributing their protocol token to the community appears conservative, with no plans for incentivized testnets. As a result, when the mainnet launches, the initial validators are likely to consist of Penumbra Labs team members, investors, advisors, and other insiders. This cautious approach might be due to the team&#x27;s concern for compliance with security or KYC (Know Your Customer) laws, rather than an attempt to centralize control or withhold tokens.</p><p>Pre-mainnet community incentive programs often require participants to undergo KYC procedures, and it is a positive aspect that there are no indications of KYC data collection taking place in the early stages of Penumbra&#x27;s development. While the lack of incentive programs may indeed slow down decentralization, it has the advantage of protecting the privacy of early adopters, ensuring they cannot be doxxed in the event of a government subpoena. This choice aligns with Penumbra&#x27;s commitment to privacy and creates a more appealing environment for those who prioritize anonymity.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="strategy--narrative">Strategy &amp; Narrative<a class="hash-link" href="#strategy--narrative" title="Direct link to heading">​</a></h3><p>Penumbra Labs demonstrates a practical and well-grounded development strategy that prioritizes delivering a well scoped fixed-functionality. The team exhibits expertise in balancing privacy concerns with user experience, aiming to create a DEX where privacy features enhance rather than hinder the trading experience. Although the team may be driven by philosophical motives or cypherpunk aspirations, their communication materials focus primarily on fostering a highly technical culture rooted in first principles thinking. This approach, which may seem unadorned to those drawn to grand visions and hype, highlights the practical and humble nature of the Penumbra community. With clear communication and easily understandable goals, Penumbra appears to cast a wide net in its quest to attract future liquidity. The community&#x27;s focus on practicality and transparency is praiseworthy and likely to resonate with those who prioritize substance over hype.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Support or Join Black Sky</h5></div><div class="admonition-content"><p>If you appreciated this resource and would like to see more like it, please consider making a donation to <a href="https://www.blacksky.network/#support-us" target="_blank" rel="noopener noreferrer">Black Sky</a>. Additionally, follow Black Sky on <a href="https://twitter.com/BlackSkyNetwork" target="_blank" rel="noopener noreferrer">Twitter</a> or join our <a href="https://t.me/BlackSkySociety" target="_blank" rel="noopener noreferrer">Telegram</a>. </p></div></div><span class="disclaimer">Disclaimer: The information contained in this document is provided solely for informational purposes and should not be interpreted as legal or investment advice. Although the lead analyst is neither an investor nor an employee of Penumbra Labs, the company has reviewed this report for technical accuracy prior to publication. Additionally it should be noted that Black Sky is presently collaborating with Anoma, the organization developing Namada, one of the projects referenced herein. This document is not designed to endorse or promote investments in Penumbra Labs, Namada, or any other mentioned projects. It is strongly advised that readers consult their legal and financial advisors before making any investment decisions.</span><h2 class="anchor anchorWithStickyNavbar_mojV" id="additional-resources">Additional Resources<a class="hash-link" href="#additional-resources" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="testing-penumbra">Testing Penumbra<a class="hash-link" href="#testing-penumbra" title="Direct link to heading">​</a></h3><p>During the current testnet stage, users can interact with the Penumbra protocol through various methods, including a command line interface and a web interface:</p><ol><li><code>pcli</code>: This client allows users to generate a wallet, view balances, send transactions, stake, and swap assets without the need to run a full node.<ul><li>Installation instructions can be found at: <a href="https://guide.penumbra.zone/main/pcli/install.html" target="_blank" rel="noopener noreferrer">https://guide.penumbra.zone/main/pcli/install.html</a></li></ul></li><li><code>pd</code>: This daemon, or node software, enables users to join the testnet either as a full node or a validator.<ul><li>Installation instructions can be found at: <a href="https://guide.penumbra.zone/main/pd/build.html" target="_blank" rel="noopener noreferrer">https://guide.penumbra.zone/main/pd/build.html</a></li></ul></li><li><code>pclientd</code>: This tool bundles the view and custody code from <code>pcli</code> into a server, allowing users to programmatically control funds and build transactions.<ul><li>Usage instructions can be found at: <a href="https://guide.penumbra.zone/main/pcli/pclientd.html" target="_blank" rel="noopener noreferrer">https://guide.penumbra.zone/main/pcli/pclientd.html</a></li></ul></li><li>An experimental web-based client (available at <a href="https://app.testnet.penumbra.zone/" target="_blank" rel="noopener noreferrer">https://app.testnet.penumbra.zone/</a>) which can be used in conjunction with the Chromium-based browser extension (found at <a href="https://chrome.google.com/webstore/detail/penumbra-wallet/lkpmkhpnhknhmibgnmmhdhgdilepfghe" target="_blank" rel="noopener noreferrer">https://chrome.google.com/webstore/detail/penumbra-wallet/lkpmkhpnhknhmibgnmmhdhgdilepfghe</a>).</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="links">Links<a class="hash-link" href="#links" title="Direct link to heading">​</a></h3><ul><li><a href="https://protocol.penumbra.zone/main/penumbra.html" target="_blank" rel="noopener noreferrer">Penumbra Spec</a></li><li><a href="https://penumbra.zone/" target="_blank" rel="noopener noreferrer">Penumbra Website</a></li><li><a href="https://penumbra.zone/blog/" target="_blank" rel="noopener noreferrer">Penumbra Blog</a></li><li><a href="https://discord.gg/hKvkrqa3zC" target="_blank" rel="noopener noreferrer">Penumbra Discord</a></li><li><a href="https://twitter.com/penumbrazone" target="_blank" rel="noopener noreferrer">Penumbra Twitter</a></li><li><a href="https://github.com/penumbra-zone" target="_blank" rel="noopener noreferrer">Penumbra GitHub</a></li><li><a href="https://guide.penumbra.zone/main/index.html" target="_blank" rel="noopener noreferrer">Penumbra Testnet Guide</a></li></ul><div class="footnotes"><hr><ol><li id="fn-1">Penumbra.zone. &quot;Penumbra - Team.&quot; Accessed April 2023. <a href="https://penumbra.zone/team/" target="_blank" rel="noopener noreferrer">https://penumbra.zone/team/</a><a href="#fnref-1" class="footnote-backref">↩</a></li><li id="fn-2">Penumbra.zone &quot;Penumbra Labs Raises Seed Round To Build Private, Decentralized Exchange.&quot; 4 Nov. 2021, <a href="https://penumbra.zone/blog/penumbra-labs-raises-seed-round-to-build-private-exchange/" target="_blank" rel="noopener noreferrer">https://penumbra.zone/blog/penumbra-labs-raises-seed-round-to-build-private-exchange/</a><a href="#fnref-2" class="footnote-backref">↩</a></li><li id="fn-3">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1046682441902989352" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1046682441902989352</a><a href="#fnref-3" class="footnote-backref">↩</a></li><li id="fn-4">de Valence, Henry. &quot;Interview/Conversation.&quot; 8 Apr. 2023. Personal Communication.<a href="#fnref-4" class="footnote-backref">↩</a></li><li id="fn-5">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1091035484559519875" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1091035484559519875</a> <a href="#fnref-5" class="footnote-backref">↩</a></li><li id="fn-6">Protocol.penumbra.zone. &quot;The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/index.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/index.html</a><a href="#fnref-6" class="footnote-backref">↩</a></li><li id="fn-7">Protocol.penumbra.zone. &quot;ZSwap - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/zswap.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/zswap.html</a><a href="#fnref-7" class="footnote-backref">↩</a></li><li id="fn-8">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1090691576914772069" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1090691576914772069</a><a href="#fnref-8" class="footnote-backref">↩</a></li><li id="fn-9">GitHub.com. &quot;Decide on a proof system and primitives · Issue #2 · penumbra-zone/penumbra.&quot; Accessed Apr. 2023. <a href="https://github.com/penumbra-zone/penumbra/issues/2" target="_blank" rel="noopener noreferrer">https://github.com/penumbra-zone/penumbra/issues/2</a><a href="#fnref-9" class="footnote-backref">↩</a></li><li id="fn-10">Protocol.penumbra.zone. &quot;Proving Considerations - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/crypto/proofs.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/crypto/proofs.html</a><a href="#fnref-10" class="footnote-backref">↩</a></li><li id="fn-11">Protocol.penumbra.zone. &quot;Threshold Cryptography for Flow Encryption - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/crypto/threshold.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/crypto/threshold.html</a><a href="#fnref-11" class="footnote-backref">↩</a></li><li id="fn-12">Penumbra.zone. &quot;Penumbra - Penumbra Winter 2022 Update.&quot; 23 Dec. 2022, <a href="https://penumbra.zone/blog/2022-winter-update" target="_blank" rel="noopener noreferrer">https://penumbra.zone/blog/2022-winter-update</a><a href="#fnref-12" class="footnote-backref">↩</a></li><li id="fn-13">Finch. &quot;Interview/Conversation.&quot; 8-17 Apr. 2023. Personal Communication.<a href="#fnref-13" class="footnote-backref">↩</a></li><li id="fn-14">Twitter.com &quot;@RadiantCommons&quot; 27 Sep. 2022, <a href="https://twitter.com/RadiantCommons/status/1574806914084573184" target="_blank" rel="noopener noreferrer">https://twitter.com/RadiantCommons/status/1574806914084573184</a><a href="#fnref-14" class="footnote-backref">↩</a></li><li id="fn-15">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1003679005041508462" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1003679005041508462</a><a href="#fnref-15" class="footnote-backref">↩</a></li><li id="fn-16">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/905859669921267764/1100145433214451762" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/905859669921267764/1100145433214451762</a><a href="#fnref-16" class="footnote-backref">↩</a></li><li id="fn-17">Penumbra.zone. &quot;Penumbra - How We’re Building Penumbra.&quot; 30 Nov. 2021, <a href="https://penumbra.zone/blog/how-were-building-penumbra/" target="_blank" rel="noopener noreferrer">https://penumbra.zone/blog/how-were-building-penumbra/</a><a href="#fnref-17" class="footnote-backref">↩</a></li><li id="fn-18">Penumbra.zone. &quot;Penumbra - Bringing Zero-Knowledge Proofs to Penumbra.&quot; 7 Mar. 2023, <a href="https://penumbra.zone/blog/zkproofs-intro" target="_blank" rel="noopener noreferrer">https://penumbra.zone/blog/zkproofs-intro</a><a href="#fnref-18" class="footnote-backref">↩</a></li><li id="fn-19">Medium.com. &quot;Relaying The Message: A Deep Dive Into IBC Relayer Operations&quot; 22 Jun. 2022, <a href="https://medium.com/the-interchain-foundation/relaying-the-message-a-deep-dive-into-ibc-relayer-operations-6ff763a2a22f" target="_blank" rel="noopener noreferrer">https://medium.com/the-interchain-foundation/relaying-the-message-a-deep-dive-into-ibc-relayer-operations-6ff763a2a22f</a><a href="#fnref-19" class="footnote-backref">↩</a></li><li id="fn-20">Twitter.com &quot;@penumbrazone&quot; 15 Jul. 2022, <a href="https://twitter.com/penumbrazone/status/1547975626245619713" target="_blank" rel="noopener noreferrer">https://twitter.com/penumbrazone/status/1547975626245619713</a><a href="#fnref-20" class="footnote-backref">↩</a></li><li id="fn-21">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/883455571003576320/1012494078551797881" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/883455571003576320/1012494078551797881</a><a href="#fnref-21" class="footnote-backref">↩</a></li><li id="fn-22">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/905859669921267764/1095051136899223623" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/905859669921267764/1095051136899223623</a><a href="#fnref-22" class="footnote-backref">↩</a></li><li id="fn-23">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1090459059313983519" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1090459059313983519</a><a href="#fnref-23" class="footnote-backref">↩</a></li><li id="fn-24">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1091022120781352990" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1091022120781352990</a><a href="#fnref-24" class="footnote-backref">↩</a></li><li id="fn-25">Uniswap.org. &quot;Auto Router V2.&quot; 16 Dec. 2021, <a href="https://blog.uniswap.org/auto-router-v2" target="_blank" rel="noopener noreferrer">https://blog.uniswap.org/auto-router-v2</a><a href="#fnref-25" class="footnote-backref">↩</a></li><li id="fn-26">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1091023898134462594" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1091023898134462594</a><a href="#fnref-26" class="footnote-backref">↩</a></li><li id="fn-27">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1012798236609761393" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1012798236609761393</a><a href="#fnref-27" class="footnote-backref">↩</a></li><li id="fn-28">Protocol.penumbra.zone. &quot;Addresses and Keys - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/protocol/addresses_keys.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/protocol/addresses_keys.html</a><a href="#fnref-28" class="footnote-backref">↩</a></li><li id="fn-29">Protocol.penumbra.zone. &quot;Spending Keys - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/protocol/addresses_keys/spend_key.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/protocol/addresses_keys/spend_key.html</a><a href="#fnref-29" class="footnote-backref">↩</a></li><li id="fn-30">Protocol.penumbra.zone. &quot;Addresses and Detection Keys - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/protocol/addresses_keys/addresses.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/protocol/addresses_keys/addresses.html</a><a href="#fnref-30" class="footnote-backref">↩</a></li><li id="fn-31">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/930545761995878480/1081348735805702195" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/930545761995878480/1081348735805702195</a><a href="#fnref-31" class="footnote-backref">↩</a></li><li id="fn-32">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1017085267959623700" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1017085267959623700</a><a href="#fnref-32" class="footnote-backref">↩</a></li><li id="fn-33">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/996413126901780600" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/996413126901780600</a><a href="#fnref-33" class="footnote-backref">↩</a></li><li id="fn-34">Protocol.penumbra.zone. &quot;Viewing Keys - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/protocol/addresses_keys/viewing_keys.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/protocol/addresses_keys/viewing_keys.html</a><a href="#fnref-34" class="footnote-backref">↩</a></li><li id="fn-35">Protocol.penumbra.zone. &quot;Notes, Nullifiers, and Trees - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/concepts/notes_nullifiers_trees.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/concepts/notes_nullifiers_trees.html</a><a href="#fnref-35" class="footnote-backref">↩</a></li><li id="fn-36">Penumbra.zone. &quot;Penumbra - Penumbra Summer 2022 Update.&quot; 9 Aug. 2022, <a href="https://penumbra.zone/blog/2022-summer-update/" target="_blank" rel="noopener noreferrer">https://penumbra.zone/blog/2022-summer-update/</a><a href="#fnref-36" class="footnote-backref">↩</a></li><li id="fn-37">Penumbra.zone. &quot;Penumbra - Accelerating Penumbra’s Merkle Tree by up to 4,000,000x.&quot; 15 Nov. 2022, <a href="https://penumbra.zone/blog/tiered-commitment-tree/" target="_blank" rel="noopener noreferrer">https://penumbra.zone/blog/tiered-commitment-tree/</a><a href="#fnref-37" class="footnote-backref">↩</a></li><li id="fn-38">Protocol.penumbra.zone. &quot;Batching Flows - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/concepts/batching_flows.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/concepts/batching_flows.html</a><a href="#fnref-38" class="footnote-backref">↩</a></li><li id="fn-39">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1002816843586744381" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1002816843586744381</a><a href="#fnref-39" class="footnote-backref">↩</a></li><li id="fn-40">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/943912355287400568" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/943912355287400568</a><a href="#fnref-40" class="footnote-backref">↩</a></li><li id="fn-41">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1002225852282576976" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1002225852282576976</a><a href="#fnref-41" class="footnote-backref">↩</a></li><li id="fn-42">Protocol.penumbra.zone. &quot;Governance - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/concepts/governance.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/concepts/governance.html</a><a href="#fnref-42" class="footnote-backref">↩</a></li><li id="fn-43">Protocol.penumbra.zone. &quot;Staking Tokens - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/stake/tokens.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/stake/tokens.html</a><a href="#fnref-43" class="footnote-backref">↩</a></li><li id="fn-44">Protocol.penumbra.zone. &quot;Undelegation - The Penumbra Protocol.&quot; Accessed Apr. 2023. <a href="https://protocol.penumbra.zone/main/stake/undelegation.html" target="_blank" rel="noopener noreferrer">https://protocol.penumbra.zone/main/stake/undelegation.html</a><a href="#fnref-44" class="footnote-backref">↩</a></li><li id="fn-45">Penumbra.zone. &quot;Penumbra - Testnet #4: Shielded Staking Is Here.&quot; 26 Jan. 2022, <a href="https://penumbra.zone/blog/shielded-staking-is-here/" target="_blank" rel="noopener noreferrer">https://penumbra.zone/blog/shielded-staking-is-here/</a><a href="#fnref-45" class="footnote-backref">↩</a></li><li id="fn-46">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1091026389752352788" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1091026389752352788</a><a href="#fnref-46" class="footnote-backref">↩</a></li><li id="fn-47">GitHub.com. &quot;Deposit fees in the DAO Treasury account instead of burning them · Issue #1224 · penumbra-zone/penumbra.&quot; Accessed Apr 2023. <a href="https://github.com/penumbra-zone/penumbra/issues/1224" target="_blank" rel="noopener noreferrer">https://github.com/penumbra-zone/penumbra/issues/1224</a><a href="#fnref-47" class="footnote-backref">↩</a></li><li id="fn-48">GitHub.com. &quot;Pay out fees to validator funding streams · Issue #1067 · penumbra-zone/penumbra.&quot; Accessed Apr. 2023. <a href="https://github.com/penumbra-zone/penumbra/issues/1067" target="_blank" rel="noopener noreferrer">https://github.com/penumbra-zone/penumbra/issues/1067</a><a href="#fnref-48" class="footnote-backref">↩</a></li><li id="fn-49">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1091024368877981696" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1091024368877981696</a><a href="#fnref-49" class="footnote-backref">↩</a></li><li id="fn-50">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1091025724896444447" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1091025724896444447</a><a href="#fnref-50" class="footnote-backref">↩</a></li><li id="fn-51">Discord. &quot;Penumbra Discord Server&quot;. Accessed Apr. 2023. <a href="https://discord.com/channels/824484045370818580/824484046335246348/1091025813866025030" target="_blank" rel="noopener noreferrer">https://discord.com/channels/824484045370818580/824484046335246348/1091025813866025030</a><a href="#fnref-51" class="footnote-backref">↩</a></li></ol></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/post-web">Post-Web</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/BlackSkyNetwork/nexus/edit/main/docs/zine/00000001/penumbra-protocol.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-04-27T04:56:00.000Z">4/27/2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zine/00000001/anoma-protocol"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Anoma Protocol</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zine/00000001/call-for-submissions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Call for Submissions</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-summary" class="table-of-contents__link toc-highlight">Project Summary</a><ul><li><a href="#production-stage" class="table-of-contents__link toc-highlight">Production Stage</a></li></ul></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#development-strategy" class="table-of-contents__link toc-highlight">Development Strategy</a></li><li><a href="#zswap" class="table-of-contents__link toc-highlight">ZSwap</a></li><li><a href="#technical-design" class="table-of-contents__link toc-highlight">Technical Design</a></li><li><a href="#governance--economics" class="table-of-contents__link toc-highlight">Governance &amp; Economics</a></li></ul></li><li><a href="#analysis" class="table-of-contents__link toc-highlight">Analysis</a><ul><li><a href="#transaction-privacy" class="table-of-contents__link toc-highlight">Transaction Privacy</a></li><li><a href="#networking-privacy-1" class="table-of-contents__link toc-highlight">Networking Privacy</a></li><li><a href="#decentralization" class="table-of-contents__link toc-highlight">Decentralization</a></li><li><a href="#community-incentives" class="table-of-contents__link toc-highlight">Community Incentives</a></li><li><a href="#strategy--narrative" class="table-of-contents__link toc-highlight">Strategy &amp; Narrative</a></li></ul></li><li><a href="#additional-resources" class="table-of-contents__link toc-highlight">Additional Resources</a><ul><li><a href="#testing-penumbra" class="table-of-contents__link toc-highlight">Testing Penumbra</a></li><li><a href="#links" class="table-of-contents__link toc-highlight">Links</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Black Sky Nexus • 2023 • Written content licensed <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> unless otherwise noted</div></div></div></footer></div>
<script src="/assets/js/runtime~main.46ca885c.js"></script>
<script src="/assets/js/main.99c1ec01.js"></script>
</body>
</html>