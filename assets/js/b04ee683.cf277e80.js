"use strict";(self.webpackChunkwiki=self.webpackChunkwiki||[]).push([[4836],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return u}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),h=c(n),u=a,m=h["".concat(s,".").concat(u)]||h[u]||d[u]||o;return n?r.createElement(m,i(i({ref:t},p),{},{components:n})):r.createElement(m,i({ref:t},p))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},3341:function(e,t,n){var r,a,o=n(7294),i=["title","titleId"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.Z=function(e){var t=e.title,n=e.titleId,c=s(e,i);return o.createElement("svg",l({width:933,height:43,viewBox:"0 0 933 43",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},c),t?o.createElement("title",{id:n},t):null,r||(r=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M0 1h933",stroke:"#FA36C3",strokeWidth:2,strokeMiterlimit:10}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m493.68.18-27.2 27.19L439.63.53l-1.16 1.16 28.01 27.9 28.25-28.36-1.05-1.05Z",fill:"#FA36C3"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m466.51.05-14.12 13.89H0v2.92h453.56l12.95-12.72 12.73 12.72H933v-2.92H480.4L466.51.05Z",fill:"#FA36C3"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m507 .06-40.5 40.5L426.11.18l-1.17 1.05 41.56 41.55 41.55-41.55L507 .06Z",fill:"#FA36C3"}))),a||(a=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{fill:"#fff",d:"M0 0h933v42.78H0z"})))))}},4181:function(e,t,n){var r,a,o=n(7294),i=["title","titleId"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.Z=function(e){var t=e.title,n=e.titleId,c=s(e,i);return o.createElement("svg",l({width:933,height:43,viewBox:"0 0 933 43",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},c),t?o.createElement("title",{id:n},t):null,r||(r=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M933 41.78H0",stroke:"#FA36C3",strokeWidth:2,strokeMiterlimit:10}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m439.32 42.6 27.2-27.19 26.85 26.84 1.16-1.16-28.01-27.9-28.25 28.36 1.05 1.05Z",fill:"#FA36C3"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m466.49 42.73 14.12-13.89H933v-2.92H479.44l-12.95 12.72-12.73-12.72H0v2.92h452.6l13.89 13.89Z",fill:"#FA36C3"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m426 42.72 40.5-40.5 40.39 40.38 1.17-1.05L466.5 0l-41.55 41.55 1.05 1.17Z",fill:"#FA36C3"}))),a||(a=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{fill:"#fff",d:"M0 0h933v42.78H0z"})))))}},2423:function(e,t,n){n.r(t),n.d(t,{assets:function(){return g},contentTitle:function(){return m},default:function(){return k},frontMatter:function(){return u},metadata:function(){return f},toc:function(){return y}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=n(4181),l=n(3341),s=n.p+"assets/images/confederal-fba5612f621817a021ba5729fd1f3ed9.png",c=n.p+"assets/images/confederal_img1-c8396a5884fc63619a00e53a3884f798.png",p=n.p+"assets/images/confederal_img2-e5fb36cbea91094155e191bd3c3d2f55.png",d=n.p+"assets/images/confederal_diagram-b1e617e83fe9b79021d4d5fb765747d4.png",h=["components"],u={sidebar_position:7,sidebar_label:"Confederal Protocols: A Sketch",title:"Confederal Protocols: A Sketch",hide_title:!0,description:"Federated infrastructure but user sovereignty: a \u201cthird way\u201d between federated and P2P networks",image:"/img/00000001/confederal.png",tags:["Post-Web"]},m=void 0,f={unversionedId:"zine/00000001/confederal-protocols",id:"zine/00000001/confederal-protocols",title:"Confederal Protocols: A Sketch",description:"Federated infrastructure but user sovereignty: a \u201cthird way\u201d between federated and P2P networks",source:"@site/docs/zine/00000001/confederal-protocols.mdx",sourceDirName:"zine/00000001",slug:"/zine/00000001/confederal-protocols",permalink:"/zine/00000001/confederal-protocols",editUrl:"https://github.com/BlackSkyNetwork/nexus/edit/main/docs/zine/00000001/confederal-protocols.mdx",tags:[{label:"Post-Web",permalink:"/tags/post-web"}],version:"current",lastUpdatedAt:1687902344,formattedLastUpdatedAt:"6/27/2023",sidebarPosition:7,frontMatter:{sidebar_position:7,sidebar_label:"Confederal Protocols: A Sketch",title:"Confederal Protocols: A Sketch",hide_title:!0,description:"Federated infrastructure but user sovereignty: a \u201cthird way\u201d between federated and P2P networks",image:"/img/00000001/confederal.png",tags:["Post-Web"]},sidebar:"tutorialSidebar",previous:{title:"The Fight for Cryptography in the War Over Sovereignty",permalink:"/zine/00000001/fight-for-cryptography"},next:{title:"Anoma Protocol",permalink:"/zine/00000001/anoma-protocol"}},g={},y=[{value:"By nullchinchilla",id:"by-nullchinchilla",level:6},{value:"Sovereignty, not (de)centralization",id:"sovereignty-not-decentralization",level:2},{value:"Xirtam: a confederal chat protocol",id:"xirtam-a-confederal-chat-protocol",level:2},{value:"How can we build this?",id:"how-can-we-build-this",level:2}],b={toc:y};function k(e){var t=e.components,n=(0,a.Z)(e,h);return(0,o.kt)("wrapper",(0,r.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"confederal-protocols-a-sketch"},"Confederal Protocols: A Sketch"),(0,o.kt)("span",{class:"doc-subtitle"},"Federated infrastructure but user sovereignty: a \u201cthird way\u201d between federated and P2P networks"),(0,o.kt)("h6",{id:"by-nullchinchilla"},"By ",(0,o.kt)("a",{parentName:"h6",href:"https://twitter.com/nullchinchilla"},"nullchinchilla")),(0,o.kt)(i.Z,{className:"img-up",mdxType:"ImgUp"}),(0,o.kt)("div",{class:"header"},(0,o.kt)("img",{src:s})),(0,o.kt)(l.Z,{className:"img-down",mdxType:"ImgDown"}),(0,o.kt)("p",null,'There are two kinds of protocols from the "open web" scene that aim to\nreplace centralized Big Tech platforms: ',(0,o.kt)("strong",{parentName:"p"},"federated")," and\n",(0,o.kt)("strong",{parentName:"p"},"peer-to-peer"),". Federated protocols, like\n",(0,o.kt)("a",{parentName:"p",href:"https://matrix.org/"},"Matrix")," and ",(0,o.kt)("a",{parentName:"p",href:"https://joinmastodon.org/"},"Mastodon"),",\nare essentially modeled after email: there are still servers and\nclients, but anyone can run a server, and the whole network runs off of\nopen-source software and open standards. Peer-to-peer protocols, like\n",(0,o.kt)("a",{parentName:"p",href:"https://tox.chat/"},"Tox")," and\n",(0,o.kt)("a",{parentName:"p",href:"https://freenetproject.org/index.html"},"Freenet"),", follow the BitTorrent\nmodel of there simply being ",(0,o.kt)("em",{parentName:"p"},"peers")," \u2014 the end-users \u2014 that somehow\ncollaborate to form a coherent distributed network."),(0,o.kt)("p",null,"With the exception of content-addressed P2P file sharing networks\n(BitTorrent and IPFS), the semi-successful protocols are almost all\nfederated. Matrix (a federated protocol) may not be nearly as polished\nas Telegram or Discord, but at least communities of non-techy people use\nit \u2014 that can't really be said of P2P alternatives. We may want fully\negalitarian infrastructure in which every user is a server and \"",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Every_Man_a_King_(song)"},"every\nman a king"),'", but\nthat seems to mean tons of technical complexity and tradeoffs that\nnearly deny the possibility of "Web2"-like convenience.'),(0,o.kt)("p",null,"But federated protocols don't quite cut it. To be sure, they can be\npretty decentralized \u2014 there are probably more email servers than public\nBitTorrent DHT nodes. But we still often see the usual signs of\ncentralization, like\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/matrix-org/matrix.org/issues/373"},"censorship")," and\n",(0,o.kt)("a",{parentName:"p",href:"https://matrix.org/blog/2020/10/19/combating-abuse-in-matrix-without-backdoors"},"desperate appeals through centralized\nadvocacy"),"\nto forestall it. In practice, current federated protocols don't actually\nprovide a meaningful leap towards the \"open web\" ideal of user autonomy,\nespecially compared to security-focused centralized platforms like\nSignal (as Signal's founder ",(0,o.kt)("a",{parentName:"p",href:"https://signal.org/blog/the-ecosystem-is-moving/"},"pretty convincingly\nargues"),"!). When I want\nto help normal folks improve their online security and mitigate mass\nsurveillance \u2014 especially friends in China who actually ",(0,o.kt)("em",{parentName:"p"},"need"),"\nhigh-security communication \u2014 I recommend Signal or even Telegram rather\nthan Matrix, since ",(0,o.kt)("em",{parentName:"p"},"Matrix doesn't fix any problems that Signal doesn't\nfix under a realistic threat model"),"."),(0,o.kt)("h2",{id:"sovereignty-not-decentralization"},"Sovereignty, not (de)centralization"),(0,o.kt)("p",null,"This is because nobody cares about decentralization ",(0,o.kt)("em",{parentName:"p"},"per se"),". What\npeople actually want is ",(0,o.kt)("strong",{parentName:"p"},"user sovereignty"),": the key security\nproperties of the system being upheld by correct behavior of users, not\nthird parties. For a secure communication system, that means the ",(0,o.kt)("a",{parentName:"p",href:"https://www.coursera.org/articles/cia-triad"},'"CIA"\ntriad'),' of confidentiality,\nintegrity, and authentication should depend only on the end users\nfollowing the protocol (i.e. "end-to-end encryption"). In Signal\'s case,\nwe ',(0,o.kt)("em",{parentName:"p"},"almost")," have user sovereignty \u2014 as long as we trust Signal not to\nlie about users' public keys, not collect too much metadata, and stay\nonline. And the problem with federated protocols is that just like\nSignal and other centralized protocols, we typically have ",(0,o.kt)("strong",{parentName:"p"},"provider\nsovereignty"),": Matrix homeservers, email hosts, etc, rather than users\nuphold the most important security properties."),(0,o.kt)("p",null,"But we don't need to go the whole P2P hog to get robust user\nsovereignty. Cryptography lets us separate who stores and routes data\nfrom who truly owns it. We can combine the easier infrastructure design\nof a federated protocol with the full decentralized security of a\npeer-to-peer protocol."),(0,o.kt)("p",null,"In other words, we can build ",(0,o.kt)("strong",{parentName:"p"},"confederal protocols"),": ",(0,o.kt)("em",{parentName:"p"},"user sovereignty\nplus federated infrastructure"),". In a confederal protocol, there are\nstill users and providers. But users don't ",(0,o.kt)("em",{parentName:"p"},"belong")," to providers, the\nway they belong to web2 platforms or email hosts. They're merely\n",(0,o.kt)("em",{parentName:"p"},"customers")," of providers offering services like routing and storage,\nfree to shop around and switch providers without any disruption to their\nuser experience. You can think of a confederal network as one where\nevery user is independent and sovereign, but free to trade and\nspecialize without any protocol-enforced peer-to-peer egalitarianism."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null}),(0,o.kt)("th",{parentName:"tr",align:null},"Centralized"),(0,o.kt)("th",{parentName:"tr",align:null},"Federated"),(0,o.kt)("th",{parentName:"tr",align:null},"Confederal"),(0,o.kt)("th",{parentName:"tr",align:null},"Peer-to-peer"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("em",{parentName:"td"},"Infrastructure")),(0,o.kt)("td",{parentName:"tr",align:null},"One server"),(0,o.kt)("td",{parentName:"tr",align:null},"Many servers"),(0,o.kt)("td",{parentName:"tr",align:null},"Many servers"),(0,o.kt)("td",{parentName:"tr",align:null},"Just peers")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("em",{parentName:"td"},"Who is sovereign?")),(0,o.kt)("td",{parentName:"tr",align:null},"Provider"),(0,o.kt)("td",{parentName:"tr",align:null},"Providers"),(0,o.kt)("td",{parentName:"tr",align:null},"Users"),(0,o.kt)("td",{parentName:"tr",align:null},"Users")))),(0,o.kt)("p",null,"Few federated protocols today are confederal. But there's one surprising\nexception: ",(0,o.kt)("em",{parentName:"p"},"the Internet itself"),". Internet users usually don't self-host\nservices, but use many different websites and ISPs, federated using a\nquasi-centralized naming network (DNS). Your cyberspace self does not\nbelong to Facebook, AT&T, or the like, and you can easily switch\nproviders \u2014 or even host your own website \u2014 without leaving the\nInternet. Even most P2P fans believe in the power of a confederal\nprotocol, given that their networks still depend on the Internet."),(0,o.kt)("p",null,"But what would an application-level confederal protocol look like? After\nall, the Internet just needs to move packets, but something like a chat network\nneeds complex abstractions \u2014 user profiles, groups, and all that."),(0,o.kt)("h2",{id:"xirtam-a-confederal-chat-protocol"},"Xirtam: a confederal chat protocol"),(0,o.kt)("p",null,"Let's envision ",(0,o.kt)("strong",{parentName:"p"},"Xirtam")," /\u0283\u025a.\u02c8t\u0251\u02d0m/, a ",(0,o.kt)("em",{parentName:"p"},"confederal Matrix replacement"),"\n. Recall that Matrix has full-on, email-like provider sovereignty: you\nregister an account at a ",(0,o.kt)("strong",{parentName:"p"},"homeserver"),", which gives you an account\nlocal to that server (looking something like\n",(0,o.kt)("em",{parentName:"p"},"@alice:aliceandbob.example.com"),"). All your interactions with the Matrix\nworld go through this homeserver \u2014 sending messages to other users,\nincluding users of other servers, receiving messages, etc \u2014 and the\noptional end-to-end encryption uses PKI controlled by homeservers. Even\njoining groups on other homeservers is mediated by your homeserver,\nwhich must synchronize messages with the other server, similar to how\njoining an mailing list works in the email world."),(0,o.kt)("p",null,'In Xirtam, on the other hand, there\'s no such thing as a "homeserver".\nEvery username belongs in the same unified namespace (just ',(0,o.kt)("em",{parentName:"p"},"@alice"),"),\nbound globally to a public key controlled by the end user. We still have\nservers for hosting chat groups of all sizes, and metadata of these\nservers is stored within the same naming system. The boundaries of each\nserver will probably correspond to some autonomous online community,\njust like a forum website, though there would probably be servers\nspecializing in hosting general chatboards for others \u2014 the Reddits of\nthe Xirtamverse. Users log in to a community's server by directly\ncontacting it and presenting their globally recognized credentials."),(0,o.kt)("p",null,"Direct user-to-user messages are handled by the user picking a\n",(0,o.kt)("strong",{parentName:"p"},"concierge"),", a server whose job it is to backup DM history, serve user\navatars, etc to people. Users advertise which server is their concierge\non the global naming system; delivering messages means first finding the\nother user's concierge and directly pushing it a message. Concierges may\nalso offer reverse-proxying to other Xirtam servers \u2014 a useful service\nfor people with limited Internet connectivity who may not be able to\nreach all servers."),(0,o.kt)("p",null,'Unlike Matrix homeservers, Xirtam servers have no sovereignty to speak\nof. Servers do not own users, only groups, and no server can control \u2014\nor even necessarily see \u2014 what a user does on other servers. Most user\ncommunities control their own servers, and even when they do not, group\nadmins can "ragequit" an abusive server simply by uploading a backup of\nthe member list and message history to another server and notifying all\nmembers through DM with a standardized host-switch message.'),(0,o.kt)("img",{class:"img-center",src:c}),(0,o.kt)("p",null,"Concierges might look ",(0,o.kt)("em",{parentName:"p"},"a little")," like homeservers, but unlike\nhomeservers, concierges cannot control anything important (like the\npublic key!) on a user's profile, and a bad concierge who censors or\nattacks users (say, by vandalizing their profile) will quickly fall into\ndisuse. Switching to a better provider is just a matter of editing the\nnamespace entry that names the concierge for a user."),(0,o.kt)("p",null,"Ultimately, Xirtam users enjoy full user sovereignty equivalent to using\nany P2P chat protocol. ",(0,o.kt)("em",{parentName:"p"},"Confidentiality")," and ",(0,o.kt)("em",{parentName:"p"},"Integrity")," are entirely in\nthe hands of the user-controlled naming system, and even ",(0,o.kt)("em",{parentName:"p"},"Availability"),"\ncan be secured by end users, by shunning unreliable or censorious\nservers."),(0,o.kt)("p",null,"But from the federated architecture, they enjoy many features ",(0,o.kt)("em",{parentName:"p"},"very"),"\ndifficult to build in P2P networks:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Reliable async message delivery"),": concierges buffer messages just\nlike email servers do, avoiding the need to constantly be online\nircd style"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Unified user and group discovery"),": client-side spiders crawl the\nglobal naming system, as well as the group directories of all the\nservers named within"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Sybil resistance and anti-spam"),": servers are incentivized to\nexperiment with and evolve better, fairer policies to serve both its\ngroup and concierge customers. Users are not conscripted to be\ninfrastructure, avoiding the perverse outcome where spamming/DDoSing\na P2P network causes peers to leave and capacity to reduce rather\nthan increase.")),(0,o.kt)("p",null,"It wouldn't be a huge exaggeration to say that ",(0,o.kt)("em",{parentName:"p"},'Xirtam is the "end of\nhistory" for chat apps'),", and confederal protocols are probably the\noptimal point on the centralized-to-peer-to-peer curve."),(0,o.kt)("h2",{id:"how-can-we-build-this"},"How can we build this?"),(0,o.kt)("p",null,"So if Xirtam is so cool, why wasn't Matrix built this way? The security\nbenefits are obvious, and Xirtam might even be simpler than Matrix to\nimplement \u2014 there's no more complex inter-homeserver synchronization."),(0,o.kt)("p",null,"The astute reader may have noticed that one thing supports a ",(0,o.kt)("em",{parentName:"p"},"lot"),' of\nsecurity-critical functionality \u2014 the "global namespace", queriable and\neditable by all users using a user-controlled keypair, and magically\nconsistent and incorruptible despite whatever evil servers and ISPs and\nother gremlins may do.'),(0,o.kt)("p",null,"Sadly, nothing like that exists (yet). It's basically distributed\nsystems\n",(0,o.kt)("a",{parentName:"p",href:"https://www.urbandictionary.com/define.php?term=handwavium"},"handwavium"),"."),(0,o.kt)("img",{class:"img-center",src:p}),(0,o.kt)("p",null,"The obvious ways to implement this namespace are wrong:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Centralized name directory"),": degenerates the whole thing back to a\ncentralized system, where the centralized sovereignty of the name\ninfrastructure rules with an iron fist. Good job!"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Peer-to-peer DHT of some form"),": this just ends up being a P2P\nprotocol. Ensuring consistency, Sybil-resistance, availability, etc\nof this DHT is probably just as hard as building a P2P chat. If not\nactually harder \u2014 names have much stronger consistency requirements\nthan chat histories!")),(0,o.kt)("p",null,'The "standard" solution here is to use some sort of public blockchain.\nIndeed, combining user sovereignty with global consistency is ',(0,o.kt)("em",{parentName:"p"},"the"),"\nblockchain killer-app, not bonding curves or NFTs or whatever."),(0,o.kt)("p",null,"But before you get too excited and start loading up on bitcoins,\nbuilding a reasonably usable Xirtam global namespace is ",(0,o.kt)("em",{parentName:"p"},"very"),"\nnontrivial even with blockchains. You can't just slap something on ENS\nand call it a day. Normal people don't enjoy interacting with crypto\nwallets and blockchains, let alone paying gas fees. So \"just put it on\nthe blockchain\" typically means limiting the audience to serious crypto\nenthusiasts, which probably is an even smaller population than the\nMatrix-curious. And even if users do put up with the blockchain baggage,\nclient software (especially on mobile!) would certainly not want to\nsynchronize the whole blockchain. They'll lookup names by...calling a\ncentralized RPC endpoint like Infura, who can arbitrarily censor or\nmislead users. Oops."),(0,o.kt)("p",null,"Fixing this needs two things:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Trustless light clients"),": A way to interact with blockchain logic\nthat neither trusts centralized endpoints nor has users synchronize\nthe whole blockchain."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Fully off-chain non-equivocation"),": A robust ",(0,o.kt)("em",{parentName:"li"},"off-chain")," protocol\nfor non-equivocating name bindings that does not require users to\nspam expensive layer-1 transactions for all name operations, but\nstill inherits full blockchain security")),(0,o.kt)("p",null,"By most measures, we are ",(0,o.kt)("em",{parentName:"p"},"almost")," there. Disregarding weak subjectivity\nissues, how complex they are to set up, etc, Ethereum light clients like\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/a16z/helios"},"Helios")," get us most of the way towards\n1 \u2014 sadly, most alt-L1s don't have something similar. Nobody has really\nbuilt the latter yet (I ",(0,o.kt)("em",{parentName:"p"},"tried")," building one on Bitcoin ",(0,o.kt)("a",{parentName:"p",href:"https://ieeexplore.ieee.org/abstract/document/8584991/"},"way\nback"),'), but\ngiven the advances in fraud proofs, ZK, data availability proofs, etc,\nit\'s probably "just an engineering problem".'),(0,o.kt)("p",null,"I think the biggest challenge left might just be a ",(0,o.kt)("em",{parentName:"p"},"blockchain ecosystem\narchitecture"),' issue. Software in the "web3/crypto" space almost form a\nnice closed loop, where crypto tooling is "composable" iff it plugs into\nexisting crypto tooling. Vast smart contract ecosystems sit locked\nbehind L1s visible only through centralized RPC providers since don\'t\neven have decent light client APIs. And this problem will probably stay\nas long as "cryptobros" mostly build for other cryptobros rather than\nfor a better Internet.'),(0,o.kt)("img",{class:"img-center",src:d}),(0,o.kt)("span",{class:"caption"},'The "5-year vision" for the Mel ecosystem. ',(0,o.kt)("strong",null,"Most of these protocols are confederal.")),(0,o.kt)("br",null),(0,o.kt)("p",null,"As for myself, I started ",(0,o.kt)("a",{parentName:"p",href:"https://melproject.org"},"Mel"),", a project to fix\nexactly this architectural problem. Mel wants to build a protocol\necosystem that can actually be used for something like Xirtam, starting\nwith an L1 entirely focused on ",(0,o.kt)("a",{parentName:"p",href:"https://docs.melproject.org/"},"trustless light clients that compose\nwith off-chain decentralized protocols"),",\nbut ultimately basic off-chain protocols themselves."),(0,o.kt)("p",null,"Once we have these building pieces, Xirtam-like confederal networks will\nhopefully be a clear ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Focal_point_(game_theory)"},"Schelling\npoint"),".\nCombining federated infrastructure with user sovereignty will get us a\nmuch better combination of security, usability, and ease of development\nthan either the federated or P2P alternative."),(0,o.kt)("hr",null),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Many thanks to ",(0,o.kt)("a",{parentName:"p",href:"https://twitter.com/nullchinchilla"},"nullchinchilla")," for allowing Black Sky Nexus to redistribute this article which was initially featured in ",(0,o.kt)("a",{parentName:"p",href:"https://nullchinchilla.me/2023/03/confederal/"},"nullchinchilla's blog")," on March 28, 2023.")),(0,o.kt)("hr",null),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Join Black Sky's Telegram")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"We consider this Confederal Protocols sketch a Post-Web design pattern. Want to find out more what we mean by the Post-Web? Join ",(0,o.kt)("a",{parentName:"p",href:"https://t.me/BlackSkySociety"},"Black Sky's Telegram")," for a live chat Thursday June 1st at 5pm UTC."))))}k.isMDXComponent=!0}}]);